<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta
            name="viewport"
            content="width=device-width, minimal-ui, viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
        />
        <link rel="icon" type="image/png" href="../../assets/favicon.png" />

        <title>Cube</title>
        <link href="../../main.css" rel="stylesheet" />
    </head>

    <body>
        <div class="Info">Cube</div>
        <canvas class="webgl"></canvas>
        <script type="module">
            import * as THREE from '../../build/three.module.js';
            import { OrbitControls } from '../../build/OrbitControls.js';

            // Scene
            const scene = new THREE.Scene();

            // Camera
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            camera.position.z = 3;
            scene.add(camera);

            // Test
            const cube = new THREE.Mesh(new THREE.BoxBufferGeometry(1, 1, 1), new THREE.MeshNormalMaterial());
            scene.add(cube);

            // Renderer
            const canvas = document.querySelector('.webgl');

            const renderer = new THREE.WebGLRenderer({ canvas });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);

            // resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // Controls
            const controls = new OrbitControls(camera, canvas);
            controls.target = new THREE.Vector3();
            controls.enableDamping = true;

            // Tick
            const tick = () => {
                cube.rotation.y += 0.005;
                controls.update();
                renderer.render(scene, camera);
                window.requestAnimationFrame(tick);
            };
            tick();
        </script>
    </body>
</html>
